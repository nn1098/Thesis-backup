
%this sets up the defaults for the documents, 12pt font and A4 size. The article type sets this up as such as opposed to letter or memo.

%for the finer points LaTeX see https://en.wikibooks.org/wiki/LaTeX or http://tex.stackexchange.com/

\documentclass[12pt,a4paper]{article}
\usepackage{titlesec} 
\usepackage{fancyhdr}
 \usepackage[pagebackref,hidelinks]{hyperref}
\usepackage[hypcap]{caption}
\usepackage[utf8]{inputenc}
\usepackage{graphicx} 
\usepackage[parfill]{parskip} 
\usepackage{lscape}
%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
\usepackage[toc,page]{appendix}
% These packages are all incorporated in the memoir class to one degree or another...
\usepackage{xcolor}
\colorlet{GREEN}{green}
\colorlet{RED}{red}
\colorlet{BLUE}{blue}
%header and footer settings
\pagestyle{fancyplain}
\fancyhf{}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0.5pt}
\setlength{\headheight}{15pt}
\fancyhead[L]{Neil Notman - 40124066}
\fancyhead[R]{SOC10101 Honours Project}
\fancyfoot[L]{Games Development BSc (Hons)}
\fancyfoot[C]{\thepage}
\setlength\parindent{0cm}
%set better section layout
\makeatletter
\renewcommand\subsection{\@startsection {subsection}{1}{2mm} % name, level, indent
                               {3pt plus 2pt minus 1pt} % before skip
                               {3pt plus 0pt} % after skip
                               {\normalfont\bfseries}}
\makeatother
\makeatletter
\renewcommand\section{\@startsection {section}{1}{0mm} % name, level, indent
                               {4pt plus 2pt minus 1pt} % before skip
                               {4pt plus 0pt} % after skip
                               {\bfseries}}
\makeatother

\usepackage{titlesec}

\setcounter{secnumdepth}{4}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}


\hypersetup{
	colorlinks=true,
	citecolor=GREEN,
	linkcolor=RED,
	urlcolor=BLUE}

\renewenvironment{abstract}
  {\small\quotation
  {\bfseries\noindent{\large\abstractname\\\noindent{}}}}
  {\endquotation}

\begin{document}
%you can import other documents into your main one, these layout the Title and Declarations on its own page.
%you might need to change these to \ if your on Microsoft Windows.
\input{./Dissertation-Title.tex}
\input{./Dissertation-Dec.tex}
\pagebreak
\input{./Dissertation-DP.tex}
\pagebreak
\begin{abstract}
As games evolve and expand with the times there is an increased demand placed upon the hardware of games consoles and personal computers in terms of storage space and memory usage. This project will analyse the approaches currently available and will examine the viability of developing a combined approach to level generation and path finding with the aim of producing a solution that will compete with current approaches in terms of the quality of the terrain generated tested through the results given by the path finding and the distances between nodes that will be placed in sane (flat, reachable) locations on the terrain this will also allow for testing the quality of the path finding approach by testing against different complexities of terrain and existing industry techniques.     
\end{abstract}
\pagebreak


\tableofcontents 
\newpage

\listoftables

\newpage

\listoffigures

\newpage

\section*{Acknowledgements}
\subsection*{}

\newpage
\section{Introduction}

\subsection{Procedural Level Generation}
Procedural level generation is the process of creating a level through an algorithm contained within a computer program instead of using software to create this content then loading it into a program. The procedural level generation approach was mainly utilised in the early day of games development where storage space was a major concern.\\The first game to contain procedurally generated levels was Richard Garriott's  game Akalabeth: World of Doom which was published by California Pacific Computer Company in 1980 \cite{Akalabeth}.\\\\This project is going to utilise procedural level generation to create a average sized game world by creating a height-map which is a grey-scale  then reading the data from a height-map and using this data to transform a plane to create a large scale landscape in chunks.

\subsection{Path-Finding}
Path-Finding is an area of Artificial Intelligence that allows for definition what parts of a given level can be moved to by computer controlled players this is done by creating a set of nodes on walkable areas then linking these nodes together to form a path there are various algorithms that accomplish this task. A time-line of path-finding developments is given at figure: \ref{timeline}. The project will attempt to use path-finding on the generated level in small chunks to allow for faster processing and access to more optimisation techniques.  
\subsection{Optimisation Techniques}
There are many factors that can affect the run-time performance of computer programs and a similar amount of approaches that can be utilised to improve performance some of the most prominent techniques in this area include use of multi-threading and parallelism frameworks such as OpenMP for use in single computer based solutions and MPI which allows for parallel implementation over a network.

There are other options that differ from a parallel approach that could be utilised these can include memory alignment of instructions or a graphics processing unit (GPU) based implementation.      

\subsection{Aims and Objectives}
The main aim of this project is to examine and test the viability of combining level generation and path finding algorithms to create a double ended testing mechanism for quality to allow a performance based assessment between both level of detail in the terrain when compared with the time taken for a path finding technique to find a correct path.\\\\
   The aim of this project will be achieved by completion of the following objectives which include both design and implementation as shown below.
   
   \subsubsection{Design objectives}
   
   
   \subsubsection{Implementation Objectives}
    The creation of an application using the chosen solution to allow a user to create various sizes of level.\\\\ The application will then build the terrain and perform path finding on a set of nodes positioned across a given terrain and assess the quality of both the level and path finding technique taking into account the complexity of a given level such as obstacles slopes and caves.\\\\The application will then assess how easy it is to build a path round that level and will give a score based on both the complexity of a generated level and the path-finding technique used.\\ 


\subsection{Report Layout}
The report goes on to a review of literature sources associated with the project then technical information on the project will be supplied next there will be an analysis into the methodology used in implementation and finally the testing and results will be given alongside the conclusion of the project which will be based on the results of testing.
\newpage
\section{Literature-Review}
\input{Literature-Review/Literature-Review-Draft.tex}
\newpage
\section{Technical Information}
This section will look at the hardware based issues with the project and will show updates to hardware utilisation.
\newpage
\section{Implementation Methodology}
This section will analyse how the different areas of the implementation are approached and seek to explain how these approaches work at a technical level.

For a basic outline of the expected execution of the project please refer to figure \ref{block}
\subsection{Level Generation}
To generate the three dimensional terrain used in the project a height-map was generated through the use of the Libnoise external library which is discussed below.

\subsubsection{Libnoise external library}
This external library generates different types of noise as shown by figure \ref{noise} this is achieved use of various modules that can produce different types of noise including Perlin which is the basis for our output shown in \ref{heightmap} another feature of this library is that it allows the noise generated to be written out to various graphical file types for the height-map in the project a Bitmap (BMP) graphical file type was produced which is then loaded into the project and stored in a data structure for manipulation and rendering.\\
\begin{figure}[ht!]
	\includegraphics[width=0.5\textwidth]{images/heightmaptest}
	\caption{An image showing the output image that was generated by noise}	 \label{noise}
\end{figure}

\pagebreak
When this image is rendered to the screen against a depth buffer on the GPU it gives the following output:
\begin{figure}[ht!]
	\includegraphics[width=0.5\textwidth]{images/Heightmap-output}
	\caption{The output from rendering a heightmap} \label{heightmap}
\end{figure}

\subsection{Nodes and placement} 
To place and visualise the nodes that will be utilised for any path finding technique to be used across a terrain. The glut (OpenGL Utility Toolkit) api was used to create a simple method for rendering a sphere these were then placed along the x and z axis of the terrain and position on the y-axis is checked against the height values read in from the height-map to either raise or lower the nodes to suit the terrain. 

\begin{figure}[ht!]
	\includegraphics[width=0.5\textwidth]{images/nodes}
	\caption{The node placement when drawn on to the terrain} \label{heightmap}
\end{figure}

\subsection{Path finding implementation}


\subsection{The metric for analysis of techniques}

\subsection{Additional Information / Knowledge Required}
To implement the project a solid knowledge of a graphical programming language such as openGL or DirectX is required also perfomance based GPGPU programming API's  such as OpenCL or Nvidia's CUDA could be useful for optimising the project.

The artificial intelligence aspects of the project will require knowledge of various path-finding techniques and also an understanding of machine based learning would be beneficial to allow training of the system for analysis of the terrain and path-finding metric.   
\subsection{Experimental plan}

\newpage
\section{Testing and results}
\begin{tabular}{|p{0.8cm}|p{2cm}|p{5cm}|p{1.4cm}|p{2cm}|}
\hline
Test Id & Test Name & Test Rationale & results & Retesting result (if modified) \\
\hline
1 & Height-map generation and loading & This is the first chosen level generation technique used within the project & pass & n/a\\
\hline
2 & Storage and rendering of height-map & This is necessary to test to allow continued use of the height-map technique & pass & n/a\\
\hline
3 & Height-map performance & This is needed to establish the viability of the height-map method for the project & pass & n/a\\ 
\hline
4 & Other level generation techniques & This could be required if the height-map approach has issues or is not viable due to low performance & pass & may be revisited as additional functionality\\
\hline
5 & node placement and rendering & This will allow for visualisation of the data for testing and the nodes are required for the path finder & pass & n/a\\ 
\hline
\end{tabular}
\newpage
\section{Conclusions}


\section{Bibliography}
\bibliographystyle{apalike}
\bibliography{Literature-Review/Literature}

\newpage
\begin{appendices}
\section{Project Overview}
\input{Appendices/IPO.tex}
\newpage
\begin{landscape}
\begin{figure}[ht!]
	\includegraphics[width=1.4\textwidth, height =1.0\textwidth]{images/Honours-Mind-Map}
	\caption{This is a mind map covering the scope of the project	\label{mind}}
\end{figure}
\end{landscape}
\newpage
\section{Diary Sheets and project management}
\input{Meeting-Record/Meetings.tex}
\section{Second Formal Review Output}
%Insert a copy of the project review form you were given at the end of the review by the second marker

\section{Appendix 4 and following}
%insert content here and for each of the other appendices, the title may be just on a page by itself, the pages of the appendices are not numbered, unless an included document such as a user manual or design document is itself pager numbered.
\end{appendices}

\end{document}
